{
    "tvm": {
        "title": "Time Value of Money - Basics",
        "examples": [
            {
                "name": "Future Value of $1.00",
                "problem": "If $1,000 is deposited in an account earning 6% per year, what will the account balance be at the end of 8 years?",
                "steps": [
                    "`8` `n` (8 years)",
                    "`6` `i` (6% annual interest)",
                    "`1000` `CHS` `PV` (initial deposit, negative for cash outflow)",
                    "`FV` (calculate future value)"
                ],
                "result": "$1,593.85"
            },
            {
                "name": "Present Value of $1.00",
                "problem": "What is the present value of the right to receive $11,000 in four years at a discount rate of 10% per year?",
                "steps": [
                    "`4` `n` (4 years)",
                    "`10` `i` (10% discount rate)",
                    "`11000` `FV` (future amount to receive)",
                    "`PV` (calculate present value)"
                ],
                "result": "$-7,513.15 (negative = amount you'd pay today)"
            },
            {
                "name": "Future Value of $1.00 Per Period",
                "problem": "What will be the value of an Individual Retirement Account in 30 years assuming deposits of $2,000 are made at the end of each year and the account earns 7.5% per year?",
                "steps": [
                    "`30` `n` (30 years)",
                    "`7.5` `i` (7.5% annual interest)",
                    "`2000` `CHS` `PMT` (annual deposit, negative)",
                    "`FV` (calculate future value)"
                ],
                "result": "$206,798.81"
            },
            {
                "name": "Future Value of Investment",
                "problem": "How much will $10,000 grow to in 20 years at 7% annual return?",
                "steps": [
                    "`20` `n` (20 years)",
                    "`7` `i` (7% annual interest)",
                    "`10000` `CHS` `PV` (initial investment, negative for cash outflow)",
                    "`FV` (calculate future value)"
                ],
                "result": "$38,696.84"
            },
            {
                "name": "Present Value of Annuity (Annual Payments)",
                "problem": "What is the present value of the right to receive a payment of $36,000 at the end of every year for 15 years at a discount rate of 8%?",
                "steps": [
                    "`15` `n` (15 payments)",
                    "`8` `i` (8% discount rate)",
                    "`36000` `PMT` (annual payment)",
                    "`PV` (calculate present value)"
                ],
                "result": "$-308,141.24 (negative = amount you'd pay today)"
            },
            {
                "name": "Present Value of Annuity (Monthly Payments)",
                "problem": "What is the present value of the right to receive a payment of $3,000 at the end of every month for 15 years at a discount rate of 8% per year?",
                "steps": [
                    "`180` `n` (15 years × 12 months)",
                    "`8` `ENTER` `12` `÷` `i` (8% ÷ 12 = monthly rate)",
                    "`3000` `PMT` (monthly payment)",
                    "`PV` (calculate present value)"
                ],
                "result": "$-313,921.78 (negative = amount you'd pay today)"
            },
            {
                "name": "Compound Interest - Time Calculation",
                "problem": "How long will it take $5,000 to double at 8% annual interest?",
                "steps": [
                    "`8` `i` (8% annual interest)",
                    "`5000` `CHS` `PV` (initial amount, negative)",
                    "`10000` `FV` (target amount)",
                    "`n` (calculate time periods)"
                ],
                "result": "9.01 years"
            },
            {
                "name": "Interest Rate Calculation",
                "problem": "What interest rate is needed for $1,000 to grow to $2,000 in 10 years?",
                "steps": [
                    "`10` `n` (10 years)",
                    "`1000` `CHS` `PV` (initial amount)",
                    "`2000` `FV` (final amount)",
                    "`i` (calculate interest rate)"
                ],
                "result": "7.18% annual interest rate"
            },
            {
                "name": "Sinking Fund Factor",
                "problem": "How much must be deposited at the end of each month into an account that earns 6% annual interest to have an account balance of $50,000 at the end of 10 years?",
                "steps": [
                    "`120` `n` (10 years × 12 months)",
                    "`6` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`50000` `FV` (target amount)",
                    "`PMT` (calculate payment)"
                ],
                "result": "$-305.10 per month"
            },
            {
                "name": "Retirement Savings Goal",
                "problem": "To have $12,000,000 in 40 years with 8% annual return, how much to invest annually?",
                "steps": [
                    "`40` `n` (40 years)",
                    "`8` `i` (8% annual interest)",
                    "`12000000` `FV` (retirement goal)",
                    "`PMT` (calculate annual payment)"
                ],
                "result": "$-13,678.78 per year"
            }
        ]
    },
    "math": {
        "title": "Mathematical Operations",
        "examples": [
            {
                "name": "Power Calculation",
                "problem": "Calculate 3⁴",
                "steps": [
                    "`3` `ENTER` (base)",
                    "`4` `y^x` (exponent, calculate power)"
                ],
                "result": "81"
            },
            {
                "name": "Square Root",
                "problem": "Find the square root of 144",
                "steps": [
                    "`144` `g-√x` (calculate square root)"
                ],
                "result": "12"
            },
            {
                "name": "Factorial",
                "problem": "Calculate 5! (5 factorial)",
                "steps": [
                    "`5` `g-n!` (calculate factorial)"
                ],
                "result": "120"
            },
            {
                "name": "Natural Logarithm",
                "problem": "Find ln(100)",
                "steps": [
                    "`100` `g-LN` (calculate natural log)"
                ],
                "result": "4.61"
            },
            {
                "name": "Exponential (e^x)",
                "problem": "Calculate e²",
                "steps": [
                    "`2` `g-e^x` (calculate e to the power)"
                ],
                "result": "7.39"
            },
            {
                "name": "Reciprocal",
                "problem": "Find 1/8",
                "steps": [
                    "`8` `1/x` (calculate reciprocal)"
                ],
                "result": "0.125"
            },
            {
                "name": "Compound Calculation",
                "problem": "Calculate (15 + 25) × (8 - 3)",
                "steps": [
                    "`15` `ENTER` `25` `+` (first sum = 40)",
                    "`8` `ENTER` `3` `-` (second difference = 5)",
                    "`×` (multiply results)"
                ],
                "result": "200"
            }
        ]
    },
    "percentage": {
        "title": "Percentage Calculations",
        "examples": [
            {
                "name": "Simple Percentage",
                "problem": "What is 15% of $250?",
                "steps": [
                    "`250` `ENTER` (base amount)",
                    "`15` `%` (calculate percentage)"
                ],
                "result": "$37.50"
            },
            {
                "name": "Percentage Change (Delta %)",
                "problem": "Sales increased from $80,000 to $95,000. What's the percentage increase?",
                "steps": [
                    "`80000` `ENTER` (old value)",
                    "`95000` `Δ%` (new value, calculate % change)"
                ],
                "result": "18.75% increase"
            },
            {
                "name": "Percentage of Total (%T)",
                "problem": "$45,000 is what percentage of $180,000?",
                "steps": [
                    "`180000` `ENTER` (total amount)",
                    "`45000` `%T` (part amount, calculate % of total)"
                ],
                "result": "25%"
            },
            {
                "name": "Markup Calculation",
                "problem": "A product costs $60. Add 35% markup. What's the selling price?",
                "steps": [
                    "`60` `ENTER` (cost)",
                    "`35` `%` (calculate markup amount)",
                    "`+` (add to cost)"
                ],
                "result": "$81.00"
            },
            {
                "name": "Discount Calculation",
                "problem": "Original price $150, 20% discount. What's the sale price?",
                "steps": [
                    "`150` `ENTER` (original price)",
                    "`20` `%` (calculate discount amount)",
                    "`-` (subtract from original)"
                ],
                "result": "$120.00"
            }
        ]
    },
    "statistics": {
        "title": "Statistical Calculations",
        "examples": [
            {
                "name": "Mean (Average)",
                "problem": "Find the mean of: 10, 15, 20, 25, 30",
                "steps": [
                    "`10` `Σ+` (add to data set)",
                    "`15` `Σ+` (add to data set)",
                    "`20` `Σ+` (add to data set)",
                    "`25` `Σ+` (add to data set)",
                    "`30` `Σ+` (add to data set)",
                    "`g-x̄` (calculate mean)"
                ],
                "result": "20"
            },
            {
                "name": "Standard Deviation",
                "problem": "Find standard deviation of: 5, 10, 15, 20, 25",
                "steps": [
                    "`5` `Σ+` (add to data set)",
                    "`10` `Σ+` (add to data set)",
                    "`15` `Σ+` (add to data set)",
                    "`20` `Σ+` (add to data set)",
                    "`25` `Σ+` (add to data set)",
                    "`g-s` (standard deviation)"
                ],
                "result": "7.91"
            },
            {
                "name": "Weighted Average",
                "problem": "Test scores: 85 (weight 3), 90 (weight 2), 78 (weight 1). Find weighted average.",
                "steps": [
                    "`85` `ENTER` `3` `Σ+` (score, weight)",
                    "`90` `ENTER` `2` `Σ+` (score, weight)",
                    "`78` `ENTER` `1` `Σ+` (score, weight)",
                    "`g-x̄,w` (weighted mean)"
                ],
                "result": "85.50"
            }
        ]
    },
    "dates": {
        "title": "Date Calculations",
        "examples": [
            {
                "name": "Days Between Dates",
                "problem": "How many days between January 15, 2024 and March 30, 2024?",
                "steps": [
                    "`g-M.DY` (set date format)",
                    "`1.152024` `ENTER` (first date)",
                    "`3.302024` `g-ΔDYS` (second date, calculate days)"
                ],
                "result": "75 days (actual), interest calculation varies"
            },
            {
                "name": "Future Date",
                "problem": "What date is 90 days after February 15, 2024?",
                "steps": [
                    "`2.152024` `ENTER` (start date)",
                    "`90` `g-DATE` (number of days, calculate future date)"
                ],
                "result": "5.152024 (May 15, 2024)"
            }
        ]
    },
    "loans": {
        "title": "Loans & Financing",
        "examples": [
            {
                "name": "Mortgage Payment Calculation",
                "problem": "Calculate the monthly payment for a $300,000 mortgage at 4.5% annual interest for 30 years.",
                "steps": [
                    "`360` `n` (30 years × 12 months = 360 payments)",
                    "`4.5` `ENTER` `12` `÷` `i` (4.5% ÷ 12 = monthly rate)",
                    "`300000` `PV` (loan amount)",
                    "`PMT` (calculate payment)"
                ],
                "result": "$-1,520.06 (negative indicates cash outflow)"
            },
            {
                "name": "Car Loan Payment",
                "problem": "Calculate monthly payment on a $25,000 car loan at 5.9% APR for 5 years.",
                "steps": [
                    "`60` `n` (5 years × 12 months)",
                    "`5.9` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`25000` `PV` (loan amount)",
                    "`PMT` (calculate payment)"
                ],
                "result": "$-483.15"
            },
            {
                "name": "Loan Payoff Time",
                "problem": "How long to pay off $15,000 at 12% annual interest with $500 monthly payments?",
                "steps": [
                    "`12` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`15000` `PV` (loan amount)",
                    "`500` `CHS` `PMT` (monthly payment, negative)",
                    "`n` (calculate periods)"
                ],
                "result": "36.56 months"
            }
        ]
    },
    "investment": {
        "title": "Investment Analysis",
        "examples": [
            {
                "name": "Internal Rate of Return (Level Income)",
                "problem": "A property is purchased for $500,000 and generates annual net income of $40,000. After 10 years it is sold for $650,000. What is the IRR?",
                "steps": [
                    "`500000` `CHS` `g-CFo` (initial investment)",
                    "`40000` `g-CFj` (annual income)",
                    "`9` `g-Nj` (repeat 9 times for years 1-9)",
                    "`40000` `ENTER` `650000` `+` `g-CFj` (year 10: income + sale)",
                    "`f-IRR` (calculate IRR)"
                ],
                "result": "9.89% annual return"
            },
            {
                "name": "Net Present Value (NPV)",
                "problem": "Calculate NPV of cash flows: Initial -$1000, Year 1: $300, Year 2: $400, Year 3: $500 at 10% discount rate",
                "steps": [
                    "`1000` `CHS` `g-CFo` (initial cash flow)",
                    "`300` `g-CFj` (first year cash flow)",
                    "`400` `g-CFj` (second year cash flow)",
                    "`500` `g-CFj` (third year cash flow)",
                    "`10` `i` (discount rate)",
                    "`f-NPV` (calculate net present value)"
                ],
                "result": "$-21.04"
            }
        ]
    },
    "bonds": {
        "title": "Bond Valuation",
        "examples": [
            {
                "name": "Bond Price Calculation",
                "problem": "A bond has 10 semi-annual periods remaining, pays $25 coupon per period, $1000 face value. If market yield is 3% per semi-annual period (6% annual), what's the bond price?",
                "steps": [
                    "`10` `n` (periods to maturity)",
                    "`3` `i` (yield per period - semi-annual)",
                    "`25` `PMT` (coupon payment)",
                    "`1000` `FV` (face value)",
                    "`f-PRICE` (calculate bond price)"
                ],
                "result": "$957.35 (95.74% of par)"
            },
            {
                "name": "Yield to Maturity",
                "problem": "A bond trading at $950 has 8 periods remaining, $30 coupon per period, $1000 face value. What's the YTM?",
                "steps": [
                    "`8` `n` (periods)",
                    "`950` `CHS` `PV` (current price, negative)",
                    "`30` `PMT` (coupon)",
                    "`1000` `FV` (face value)",
                    "`f-YTM` (calculate yield)"
                ],
                "result": "3.77% per period"
            }
        ]
    },
    "depreciation": {
        "title": "Depreciation Calculations",
        "examples": [
            {
                "name": "Straight-Line Depreciation (SL)",
                "problem": "Asset costs $50,000, salvage value $5,000, useful life 10 years. Annual depreciation?",
                "steps": [
                    "`50000` `ENTER` (cost)",
                    "`5000` `ENTER` (salvage)",
                    "`10` `f-SL` (straight-line)"
                ],
                "result": "$4,500 per year"
            },
            {
                "name": "Sum-of-Years-Digits (SOYD)",
                "problem": "Asset costs $50,000, salvage value $5,000, useful life 10 years. Find first year depreciation using SOYD method.",
                "steps": [
                    "`50000` `ENTER` (cost)",
                    "`5000` `ENTER` (salvage)",
                    "`10` `ENTER` (life)",
                    "`1` `f-SOYD` (year 1)"
                ],
                "result": "$8,181.82"
            },
            {
                "name": "Declining Balance (DB)",
                "problem": "Asset costs $30,000, salvage value $3,000, useful life 5 years, 200% declining balance. Find Year 1 depreciation?",
                "steps": [
                    "`30000` `ENTER` (cost)",
                    "`3000` `ENTER` (salvage)",
                    "`5` `ENTER` (life)",
                    "`1` `f-DB` (year 1)"
                ],
                "result": "$12,000"
            }
        ]
    },
    "realestate": {
        "title": "Real Estate & Mortgages",
        "examples": [
            {
                "name": "15-Year Mortgage Payment [Basic Mortgage]",
                "problem": "Calculate the monthly payment for a $250,000 mortgage at 3.5% annual interest for 15 years.",
                "steps": [
                    "`180` `n` (15 years × 12 months = 180 payments)",
                    "`3.5` `ENTER` `12` `÷` `i` (3.5% ÷ 12 = monthly rate)",
                    "`250000` `PV` (loan amount)",
                    "`PMT` (calculate payment)"
                ],
                "result": "$-1,787.21 (negative indicates cash outflow)"
            },
            {
                "name": "Maximum Affordable Home [Basic Mortgage]",
                "problem": "You can afford $2,000 per month for a mortgage payment. At 4.25% annual interest for 30 years, what is the maximum loan amount you can qualify for?",
                "steps": [
                    "`360` `n` (30 years × 12 months)",
                    "`4.25` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`2000` `CHS` `PMT` (monthly payment, negative)",
                    "`PV` (calculate maximum loan)"
                ],
                "result": "$406,553.73"
            },
            {
                "name": "Mortgage with Down Payment [Basic Mortgage]",
                "problem": "You're buying a $450,000 home with 20% down payment. What's your monthly payment on the loan at 4% interest for 30 years?",
                "steps": [
                    "`450000` `ENTER` `.20` `×` (calculate down payment)",
                    "`450000` `x⇔y` `-` (subtract from price = loan amount)",
                    "`360` `n` (30 years × 12 months)",
                    "`4` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`x⇔y` `PV` (use loan amount as PV)",
                    "`PMT` (calculate payment)"
                ],
                "result": "$-1,718.70 (for $360,000 loan)"
            },
            {
                "name": "Total Interest Paid Over Loan Life [Mortgage Analysis]",
                "problem": "For a $200,000 mortgage at 5% annual interest for 30 years, what is the total interest paid over the life of the loan?",
                "steps": [
                    "`360` `n` (30 years × 12 months)",
                    "`5` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`200000` `PV` (loan amount)",
                    "`PMT` (calculate payment = -1,073.64)",
                    "`360` `×` (multiply payment by periods)",
                    "`200000` `+` (add back principal to get total interest)"
                ],
                "result": "$186,511.57 total interest paid"
            },
            {
                "name": "Mortgage with Points - Effective Rate [Mortgage Analysis - ADVANCED]",
                "problem": "You're quoted 4% on a $300,000 30-year mortgage but must pay 2 points ($6,000 = 2% of loan). What's your effective annual interest rate?",
                "steps": [
                    "`360` `n` (30 years × 12 months)",
                    "`4` `ENTER` `12` `÷` `i` (quoted monthly rate)",
                    "`300000` `PV` (loan amount)",
                    "`PMT` (payment based on quoted rate = -1,432.25)",
                    "`300000` `ENTER` `6000` `-` `PV` (actual loan proceeds after points)",
                    "`i` (calculate actual monthly rate)",
                    "`12` `×` (convert to annual rate)"
                ],
                "result": "4.168% effective annual rate"
            },
            {
                "name": "Extra Payment Impact [Mortgage Analysis]",
                "problem": "You have a $250,000 mortgage at 4.5% for 30 years (payment = $1,266.71). If you pay $1,500/month instead, how much time do you save?",
                "steps": [
                    "`4.5` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`250000` `PV` (loan amount)",
                    "`1500` `CHS` `PMT` (higher payment, negative)",
                    "`n` (calculate new term in months)",
                    "`12` `÷` (convert to years)"
                ],
                "result": "21.8 years (saves 8.2 years)"
            },
            {
                "name": "Refinance Break-Even Analysis [Mortgage Analysis - ADVANCED]",
                "problem": "Current mortgage: $300,000 at 5.5%. Refinance to 3.75% costs $6,000. How many months to break even?",
                "steps": [
                    "`360` `n` (30 years × 12)",
                    "`5.5` `ENTER` `12` `÷` `i` (old rate)",
                    "`300000` `PV`",
                    "`PMT` (old payment = -1,703.37)",
                    "`3.75` `ENTER` `12` `÷` `i` (new rate)",
                    "`PMT` (new payment = -1,389.35)",
                    "`-` `CHS` (monthly savings = 314.02)",
                    "`6000` `x⇔y` `÷` (divide costs by savings)"
                ],
                "result": "19.1 months to break even"
            },
            {
                "name": "Rental Property Cash Flow [Real Estate Investment]",
                "problem": "Investment property: $180,000 loan at 5.5% (30 years). Monthly rent: $2,400. Expenses (taxes, insurance, maintenance): $800. What's monthly cash flow?",
                "steps": [
                    "`360` `n` (30 years × 12)",
                    "`5.5` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`180000` `PV` (loan amount)",
                    "`PMT` (mortgage payment = -1,022.02)",
                    "`CHS` `800` `+` (add expenses)",
                    "`2400` `x⇔y` `-` (subtract from rent)"
                ],
                "result": "$577.98 positive monthly cash flow"
            },
            {
                "name": "Cap Rate Calculation [Real Estate Investment]",
                "problem": "An investment property costs $500,000 and generates $37,500 in annual net operating income (NOI). What is the capitalization rate?",
                "steps": [
                    "`37500` `ENTER` (annual NOI)",
                    "`500000` `%T` (calculate % of total)"
                ],
                "result": "7.50% cap rate"
            },
            {
                "name": "Property Investment IRR [Real Estate Investment - ADVANCED]",
                "problem": "Purchase property for $400,000, receive $24,000 annual rental income, sell after 7 years for $520,000. What's the IRR?",
                "steps": [
                    "`400000` `CHS` `g-CFo` (initial investment)",
                    "`24000` `g-CFj` (annual income)",
                    "`6` `g-Nj` (repeat 6 times for years 1-6)",
                    "`24000` `ENTER` `520000` `+` `g-CFj` (year 7: income + sale)",
                    "`f-IRR` (calculate IRR)"
                ],
                "result": "9.24% annual return"
            },
            {
                "name": "Remaining Loan Balance [Amortization Analysis]",
                "problem": "You have a $350,000 mortgage at 4.5% for 30 years. After making payments for 5 years (60 payments), what's the remaining balance?",
                "steps": [
                    "`360` `n` (30 years × 12)",
                    "`4.5` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`350000` `PV` (original loan)",
                    "`PMT` (calculate payment = -1,773.40)",
                    "`300` `n` (remaining periods: 25 years × 12)",
                    "`PV` (calculate remaining balance)"
                ],
                "result": "$319,052.71 remaining balance"
            },
            {
                "name": "Balloon Payment Calculation [Amortization Analysis - ADVANCED]",
                "problem": "A $200,000 loan at 6% is amortized over 30 years but has a balloon payment due after 5 years. What's the balloon payment amount?",
                "steps": [
                    "`360` `n` (amortization period: 30 years × 12)",
                    "`6` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`200000` `PV` (loan amount)",
                    "`PMT` (calculate payment = -1,199.10)",
                    "`300` `n` (remaining periods: 25 years × 12)",
                    "`PV` (calculate balloon amount)"
                ],
                "result": "$186,108.71 balloon payment"
            }
        ]
    },
    "retirement": {
        "title": "Retirement Planning",
        "examples": [
            {
                "name": "Required Monthly Contribution to Retirement Goal [Accumulation]",
                "problem": "You're 30 years old and want $2,000,000 by age 65. Assuming 7% annual return, how much must you save each month?",
                "steps": [
                    "`420` `n` (35 years × 12 months = 420 periods)",
                    "`7` `ENTER` `12` `÷` `i` (7% ÷ 12 = monthly rate)",
                    "`0` `PV` (starting from zero)",
                    "`2000000` `FV` (retirement goal)",
                    "`PMT` (calculate monthly contribution)"
                ],
                "result": "$-1,110.46 per month (negative = savings outflow)"
            },
            {
                "name": "Impact of Starting Early vs. Late [Accumulation]",
                "problem": "Person A starts saving $500/month at age 25. Person B starts at age 35 saving $500/month. Both retire at 65 with 7% return. Compare their retirement balances and calculate the difference.",
                "steps": [
                    "(In this simulator to display the XYZT registers, press `f` `+`)",
                    "Person A: `480` `n` (40 years × 12 months)",
                    "`7` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`0` `PV` (no initial balance)",
                    "`500` `CHS` `PMT` (monthly savings)",
                    "`FV` (Person A result = $1,312,406.70)",
                    "`STO` `1` (store Person A's result in register 1)",
                    "Person B: `360` `n` (30 years × 12 months)",
                    "`FV` (Person B result = $609,985.50)",
                    "Calculate difference: `RCL` `1` (recall Person A)",
                    "`x⇔y` `-` (Swap the X and Y registers, and subtract Person B from Person A)"
                ],
                "result": "Person A: $1,312,406.70 | Person B: $609,985.50 | Difference: $702,421 (115% more by starting 10 years earlier)"
            },
            {
                "name": "Catch-Up Contributions Analysis [Accumulation]",
                "problem": "You're 50 with $300,000 saved. You want $1,500,000 at age 67. At 6% return, how much must you save monthly?",
                "steps": [
                    "`204` `n` (17 years × 12 months)",
                    "`6` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`300000` `CHS` `PV` (current savings)",
                    "`0` `PMT`",
                    "`FV` (current savings grow to $829,846.67)",
                    "`1500000` `ENTER` `x⇔y` `-` (shortfall = $670,153.33)",
                    "`FV` (use shortfall as future value)",
                    "`0` `PV` (reset PV to zero)",
                    "`PMT` (calculate required monthly savings)"
                ],
                "result": "$-1,897.21 per month needed"
            },
            {
                "name": "Safe Withdrawal Amount (4% Rule) [Withdrawal]",
                "problem": "You have a $2,500,000 retirement portfolio. Using the 4% rule, how much can you withdraw annually and monthly?",
                "steps": [
                    "`2500000` `ENTER` (portfolio balance)",
                    "`.04` `×` (multiply by 4%)",
                    "Result for annual, then:",
                    "`12` `÷` (divide by 12 for monthly)"
                ],
                "result": "$100,000 annually | $8,333.33 monthly"
            },
            {
                "name": "Required Portfolio Size for Income Goal [Withdrawal]",
                "problem": "You want to withdraw $100,000 per year using a 4% withdrawal rate. How much do you need in your retirement account?",
                "steps": [
                    "`100000` `ENTER` (desired annual income)",
                    "`.04` `÷` (divide by 4% withdrawal rate)"
                ],
                "result": "$2,500,000 required portfolio"
            },
            {
                "name": "Sustainable Withdrawal Period [Withdrawal]",
                "problem": "You have $800,000 and want to withdraw $4,500 per month. Assuming 5% annual return, how many years will the money last?",
                "steps": [
                    "`5` `ENTER` `12` `÷` `i` (5% annual = monthly rate)",
                    "`800000` `CHS` `PV` (starting portfolio, negative)",
                    "`4500` `PMT` (monthly withdrawal, positive = cash to you)",
                    "`0` `FV` (portfolio depletes to zero)",
                    "`n` (calculate periods)",
                    "`12` `÷` (convert months to years)"
                ],
                "result": "324.7 months = 27.1 years"
            },
            {
                "name": "Monthly Income from Retirement Balance [Withdrawal]",
                "problem": "You have $1,200,000 at retirement and want it to last exactly 25 years. Assuming 6% annual return, what monthly income can you take?",
                "steps": [
                    "`300` `n` (25 years × 12 months)",
                    "`6` `ENTER` `12` `÷` `i` (monthly rate)",
                    "`1200000` `CHS` `PV` (starting balance, negative)",
                    "`0` `FV` (depletes to zero)",
                    "`PMT` (calculate monthly withdrawal)"
                ],
                "result": "$7,731.62 per month (positive = cash to you)"
            },
            {
                "name": "First-Year Withdrawal with Inflation Adjustment [Withdrawal - ADVANCED]",
                "problem": "You have $1,200,000 and want withdrawals to last 30 years with 3% annual inflation adjustments. Your portfolio earns 6% annually. What can you withdraw in year 1? What about years 2 and 3?",
                "steps": [
                    "Step 1: Calculate and store real return:",
                    "`1.06` `ENTER` `1.03` `÷` `1` `-` `100` `×`",
                    "`i` (store real return = 2.913%)",
                    "`30` `n` (30 years, using annual periods)",
                    "`1200000` `CHS` `PV` (portfolio, negative)",
                    "`0` `FV` (depletes to zero)",
                    "`PMT` (calculate year 1 withdrawal = 60,533.64)",
                    "Step 2: Calculate year 2 withdrawal (year 1 × 1.03):",
                    "`1.03` `×` (multiply by inflation factor)",
                    "Step 3: Calculate year 3 withdrawal (year 2 × 1.03):",
                    "`1.03` `×` (multiply by inflation factor again)"
                ],
                "result": "Year 1: $60,533.64 | Year 2: $62,349.64 | Year 3: $64,220.13 (Note: All withdrawals have same purchasing power as year 1)"
            }
        ]
    },
    "tips": {
        "title": "Practice Tips & Common Errors",
        "examples": []
    }
}
